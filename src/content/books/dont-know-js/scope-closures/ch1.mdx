---
title: "什么是作用域?"
description: "在你写完前几个程序时，你可能已经对创建变量并将值存储在其中感到有些熟悉。处理变量是编程中最基础的事情之一！

但你可能还没有仔细考虑引擎是如何组织和管理这些变量的。我所说的不是计算机上内存的分配，而是：JavaScript 如何知道在任何给定语句中哪些变量是可访问的，以及它是如何处理同名的两个变量的？

这些问题的答案以称为作用域的明确定义的规则的形式出现。本书将深入探讨作用域的各个方面——它是如何工作的，它的用途是什么，避免的陷阱——并指向指导程序结构的常见作用域模式。

我们的第一步是揭示 JavaScript 引擎在运行程序之前是如何处理我们的程序的。"
name: "scope-closures-ch1"
---

### 关于本书

欢迎来到《你还不知道的 JavaScript》系列的第二本书！如果你已经完成了第一本《入门》，那么你来对地方了！如果还没有，我建议你先从那里开始，以打好基础。

我们的重点将是 JavaScript 语言的三个支柱中的第一个：作用域系统及其函数闭包，以及模块设计模式的强大功能。

JavaScript 通常被归类为解释型脚本语言，因此大多数人认为 JavaScript 程序是以单一的自上而下的方式处理的。然而，实际上，JavaScript 在执行开始之前会经历一个单独的解析/编译阶段。在初步的解析/编译阶段，代码作者关于如何相互放置变量、函数和代码块的决策会根据作用域的规则进行分析。最终生成的作用域结构通常不受运行时条件的影响。

JavaScript 函数本身是第一类值；它们可以像数字或字符串一样被赋值和传递。但由于这些函数持有并访问变量，它们保持其原始作用域，无论函数最终在程序中的哪个位置被执行。这被称为闭包。

模块是一种代码组织模式，其特征是公共方法可以通过闭包对模块内部作用域中的隐藏变量和函数进行特权访问。

### 编译与解释

你可能听说过代码编译，但也许它看起来像一个神秘的黑匣子，源代码从一端输入，执行程序从另一端输出。

但这并不神秘或神奇。代码编译是处理你代码文本并将其转化为计算机可以理解的指令列表的一系列步骤。通常，整个源代码会一次性转换，而生成的指令会作为输出（通常保存在文件中）进行保存，以便后续执行。

你也可能听说过代码可以被解释，那么这与编译有什么不同呢？

解释执行的任务与编译类似，都是将你的程序转换为机器可理解的指令。但处理模型是不同的。与一次性编译程序不同，解释是逐行处理源代码；每一行或语句在立即继续处理下一行源代码之前都会被执行。